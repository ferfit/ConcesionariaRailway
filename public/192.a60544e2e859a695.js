"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[192],{1192:(_t,Q,i)=>{i.r(Q),i.d(Q,{MetododecaptacionesModule:()=>u});var N=i(9299),I=i(4859),k=i(6709),f=i(9549),F=i(7392),C=i(284),Y=i(8255),y=i(8739),U=i(3162),B=i(3238),M=i(6308),S=i(4385),E=i(455),L=i(266),z=i(4466),m=i(5412),s=i(4006),O=i(7155),t=i(4650);class h{constructor(){}}h.\u0275fac=function(o){return new(o||h)},h.\u0275cmp=t.Xpm({type:h,selectors:[["metododecaptaciones"]],decls:1,vars:0,template:function(o,e){1&o&&t._UZ(0,"router-outlet")},dependencies:[N.lC],encapsulation:2,changeDetection:0});var w=i(7579),A=i(2722),R=i(8372),v=i(3900),_=i(4004),G=i(6451),j=i(8288),x=i(6895);function $(n,o){1&n&&(t.TgZ(0,"h1",14),t._uU(1,"Agregar metododecaptacion"),t.qZA())}function H(n,o){1&n&&(t.TgZ(0,"h1",14),t._uU(1,"Editar metododecaptacion"),t.qZA())}function X(n,o){1&n&&(t.TgZ(0,"h1",14),t._uU(1,"Datos del metododecaptacion"),t.qZA())}function K(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,' El campo "nombre" es requerido. '),t.qZA())}function W(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,' El campo "nombre" debe tener al menos 3 caracteres. '),t.qZA())}function q(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,' El campo "nombre" debe tener un m\xe1ximo 3 caracteres. '),t.qZA())}function V(n,o){if(1&n&&(t.TgZ(0,"div",15),t.YNc(1,K,2,0,"div",16),t.YNc(2,W,2,0,"div",16),t.YNc(3,q,2,0,"div",16),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.nombre.errors?null:e.nombre.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.nombre.errors?null:e.nombre.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==e.nombre.errors?null:e.nombre.errors.maxlength)}}function P(n,o){1&n&&t._UZ(0,"div",15)}function tt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.closeDialog())}),t._uU(1," Cancelar "),t.qZA()}}function ot(n,o){if(1&n&&(t.TgZ(0,"button",18),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.Q6J("color","primary")("disabled",e.metododecaptacionesForm.invalid),t.xp6(1),t.hij(" ",e.actionBtn," ")}}function et(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.closeDialog())}),t._uU(1,"Cerrar"),t.qZA()}}class l{constructor(o,e,a){this._formBuilder=o,this.dialogRef=e,this.data=a,this.isLoading=!1,this.actionBtn="Guardar"}ngOnInit(){this.metododecaptacionesForm=this._formBuilder.group({nombre:["",s.kI.compose([s.kI.required,s.kI.minLength(3),s.kI.maxLength(60)])],estado:[!0,s.kI.compose([])]}),"crear"!==this.data.action&&(this.actionBtn="Actualizar",this.metododecaptacionesForm.controls.nombre.setValue(this.data.metododecaptacion.nombre),this.metododecaptacionesForm.controls.estado.setValue(this.data.metododecaptacion.estado))}get nombre(){return this.metododecaptacionesForm.get("nombre")}get estado(){return this.metododecaptacionesForm.get("estado")}closeDialog(){this.dialogRef.close(!1)}guardar(){if(!this.metododecaptacionesForm.invalid)return this.dialogRef.close(this.metododecaptacionesForm.value)}}l.\u0275fac=function(o){return new(o||l)(t.Y36(s.qu),t.Y36(m.so),t.Y36(m.WI))},l.\u0275cmp=t.Xpm({type:l,selectors:[["modalDialog"]],decls:21,vars:12,consts:[[1,"flex","w-full"],["class","font-bold px-0 text-lg","mat-dialog-title","",4,"ngIf"],[1,"m-0"],[1,"mt-5",3,"formGroup","ngSubmit"],[1,"grid","sm:grid-cols-6","gap-6"],[1,"mt-2","col-span-6","md:col-span-2"],[1,"fuse-mat-no-subscript","w-full"],["matInput","","formControlName","nombre",3,"placeholder","spellcheck"],["class","alert alert-danger mt-2 px-1 text-red-500",4,"ngIf"],["formControlName","estado",1,"mt-5",3,"color"],[1,"flex","justify-end","mt-8"],["type","button","class","ml-auto","mat-button","",3,"click",4,"ngIf"],["type","submit","class","ml-2","mat-flat-button","",3,"color","disabled",4,"ngIf"],["class"," ","mat-button","","mat-dialog-close","",3,"click",4,"ngIf"],["mat-dialog-title","",1,"font-bold","px-0","text-lg"],[1,"alert","alert-danger","mt-2","px-1","text-red-500"],[4,"ngIf"],["type","button","mat-button","",1,"ml-auto",3,"click"],["type","submit","mat-flat-button","",1,"ml-2",3,"color","disabled"],["mat-button","","mat-dialog-close","",1,"",3,"click"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0),t.YNc(1,$,2,0,"h1",1),t.YNc(2,H,2,0,"h1",1),t.YNc(3,X,2,0,"h1",1),t.qZA(),t._UZ(4,"hr",2),t.TgZ(5,"form",3),t.NdJ("ngSubmit",function(){return e.guardar()}),t.TgZ(6,"div",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"Nombre"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.YNc(12,V,4,3,"div",8),t.qZA(),t.TgZ(13,"div",5)(14,"mat-checkbox",9),t._uU(15," Estado "),t.qZA(),t.YNc(16,P,1,0,"div",8),t.qZA()(),t.TgZ(17,"div",10),t.YNc(18,tt,2,0,"button",11),t.YNc(19,ot,2,3,"button",12),t.YNc(20,et,2,0,"button",13),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("ngIf","crear"===e.data.action),t.xp6(1),t.Q6J("ngIf","editar"===e.data.action),t.xp6(1),t.Q6J("ngIf","ver"===e.data.action),t.xp6(2),t.Q6J("formGroup",e.metododecaptacionesForm),t.xp6(6),t.Q6J("placeholder","Nombre")("spellcheck",!1),t.xp6(1),t.Q6J("ngIf",e.nombre.invalid&&(e.nombre.dirty||e.nombre.touched)),t.xp6(2),t.Q6J("color","primary"),t.xp6(2),t.Q6J("ngIf",e.estado.invalid&&(e.estado.dirty||e.estado.touched)),t.xp6(2),t.Q6J("ngIf","ver"!==e.data.action),t.xp6(1),t.Q6J("ngIf","ver"!==e.data.action),t.xp6(1),t.Q6J("ngIf","ver"===e.data.action))},dependencies:[I.lW,k.oG,f.KE,f.hX,C.Nt,x.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,m.ZT,m.uh]});var D=i(1135),nt=i(8505),J=i(5698),Z=i(2340),at=i(529);class p{constructor(o){this._httpClient=o,this._metododecaptaciones=new D.X([]),this._paginationMetododecaptaciones=new D.X(null)}get metododecaptaciones$(){return this._metododecaptaciones.asObservable()}get paginationMetododecaptaciones$(){return this._paginationMetododecaptaciones.asObservable()}getMetododecaptaciones(o=0,e=10,a="_id",c="desc",r=""){return this._httpClient.get(Z.N.api+"metododecaptaciones",{params:{page:""+o,size:""+e,sort:a,order:c,search:r}}).pipe((0,nt.b)(d=>{this._metododecaptaciones.next(d.registros),this._paginationMetododecaptaciones.next(d.pagination)}))}createMetododecaptacion(o){return this.metododecaptaciones$.pipe((0,J.q)(1),(0,v.w)(e=>this._httpClient.post(Z.N.api+"metododecaptaciones",o).pipe((0,_.U)(a=>(this._metododecaptaciones.next([a.registro,...e]),a)))))}updateMetododecaptacion(o,e){return this.metododecaptaciones$.pipe((0,J.q)(1),(0,v.w)(a=>this._httpClient.patch(Z.N.api+"metododecaptaciones/"+o,{registro:e}).pipe((0,_.U)(c=>{for(let r=0;r<a.length;r++)if(a[r]._id===o){a[r]=c.registroActualizado;break}return this._metododecaptaciones.next(a),c}))))}deleteMetododecaptacion(o){return this.metododecaptaciones$.pipe((0,J.q)(1),(0,v.w)(e=>this._httpClient.delete(Z.N.api+"metododecaptaciones/"+o).pipe((0,_.U)(a=>{if(a.ok){const c=e.filter(r=>r._id!==o);return this._metododecaptaciones.next(c),a}return a}))))}}p.\u0275fac=function(o){return new(o||p)(t.LFG(at.eN))},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"});var it=i(8552),ct=i(6e3);function st(n,o){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"mat-progress-bar",16),t.qZA()),2&n&&(t.xp6(1),t.Q6J("mode","indeterminate"))}function rt(n,o){1&n&&(t.ynx(0),t._UZ(1,"mat-icon",31),t.BQk()),2&n&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:check"))}function dt(n,o){1&n&&(t.ynx(0),t._UZ(1,"mat-icon",32),t.BQk()),2&n&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:x"))}function lt(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",25)(2,"div",22),t._uU(3),t.qZA(),t.TgZ(4,"div",26),t.YNc(5,rt,2,1,"ng-container",13),t.YNc(6,dt,2,1,"ng-container",13),t.qZA(),t.TgZ(7,"div",27)(8,"button",28)(9,"mat-icon",29),t.NdJ("click",function(){const r=t.CHM(e).$implicit,d=t.oxw(4);return t.KtG(d.editar(r))}),t.qZA()(),t.TgZ(10,"button",28)(11,"mat-icon",30),t.NdJ("click",function(){const r=t.CHM(e).$implicit,d=t.oxw(4);return t.KtG(d.eliminar(r))}),t.qZA()()()(),t.BQk()}if(2&n){const e=o.$implicit;t.xp6(3),t.hij(" ",e.nombre," "),t.xp6(2),t.Q6J("ngIf",e.estado),t.xp6(1),t.Q6J("ngIf",!e.estado),t.xp6(2),t.Q6J("matTooltip","Editar"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:pencil"),t.xp6(1),t.Q6J("matTooltip","Eliminar")}}function pt(n,o){if(1&n&&(t.ynx(0),t.YNc(1,lt,12,6,"ng-container",24),t.BQk()),2&n){const e=o.ngIf,a=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",a.trackByFn)}}const mt=function(n){return{"pointer-events-none":n}},gt=function(){return[5,10,25,100]};function ut(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",18)(2,"div",19)(3,"div",20),t._uU(4," NOMBRE "),t.qZA(),t.TgZ(5,"div",21),t._uU(6," ESTADO "),t.qZA(),t.TgZ(7,"div",22),t._uU(8,"ACCIONES"),t.qZA()(),t.YNc(9,pt,2,2,"ng-container",13),t.ALo(10,"async"),t.qZA(),t._UZ(11,"mat-paginator",23),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("mat-sort-header","nombre"),t.xp6(2),t.Q6J("mat-sort-header","estado"),t.xp6(4),t.Q6J("ngIf",t.lcZ(10,9,e.metododecaptaciones$)),t.xp6(2),t.Q6J("ngClass",t.VKq(11,mt,e.isLoading))("length",e.paginationMetododecaptaciones.length)("pageIndex",e.paginationMetododecaptaciones.page)("pageSize",e.paginationMetododecaptaciones.size)("pageSizeOptions",t.DdM(13,gt))("showFirstLastButtons",!0)}}function ft(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ut,12,14,"ng-container",17),t.BQk()),2&n){const e=o.ngIf;t.oxw();const a=t.MAs(18);t.xp6(1),t.Q6J("ngIf",e.length>0)("ngIfElse",a)}}function ht(n,o){1&n&&(t.TgZ(0,"div",33),t._uU(1,"No ha registros!"),t.qZA())}class b{constructor(o,e,a,c,r){this._changeDetectorRef=o,this._metododecaptacionesService=e,this._dialog=a,this._snackBar=c,this._confirmDialog=r,this.searchInputControl=new s.p4,this._unsubscribeAll=new w.x,this.isLoading=!1}ngOnInit(){this._metododecaptacionesService.paginationMetododecaptaciones$.pipe((0,A.R)(this._unsubscribeAll)).subscribe(o=>{this.paginationMetododecaptaciones=o,this._changeDetectorRef.markForCheck()}),this.metododecaptaciones$=this._metododecaptacionesService.metododecaptaciones$,this.searchInputControl.valueChanges.pipe((0,A.R)(this._unsubscribeAll),(0,R.b)(300),(0,v.w)(o=>(this.isLoading=!0,this._metododecaptacionesService.getMetododecaptaciones(0,10,"_id","desc",o))),(0,_.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"_id",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,A.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,G.T)(this._sort.sortChange,this._paginator.page).pipe((0,v.w)(()=>(this.isLoading=!0,this._metododecaptacionesService.getMetododecaptaciones(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,_.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}crear(){this._dialog.open(l,{height:"auto",width:"800px",autoFocus:!1,data:{cliente:!1,action:"crear"}}).afterClosed().subscribe(e=>{e&&this._metododecaptacionesService.createMetododecaptacion(e).subscribe(a=>{a.ok&&this._snackBar.mostrarAlerta(a.mensaje,"mat-primary")})})}editar(o){this._dialog.open(l,{height:"auto",width:"800px",autoFocus:!1,data:{metododecaptacion:o,action:"editar"}}).afterClosed().subscribe(a=>{a&&this._metododecaptacionesService.updateMetododecaptacion(o._id,a).subscribe(c=>{c.ok&&this._snackBar.mostrarAlerta(c.mensaje,"mat-primary")})})}ver(o){this._dialog.open(l,{height:"650px",autoFocus:!1,data:{metododecaptacion:o,action:"ver"}})}eliminar(o){this._confirmDialog.open("\xbfEst\xe1s seguro de que deseas eliminar este producto?","\xa1Esta acci\xf3n no se puede deshacer!","Eliminar").afterClosed().subscribe(d=>{"confirmed"===d&&this._metododecaptacionesService.deleteMetododecaptacion(o._id).subscribe(T=>{this._snackBar.mostrarAlerta(T.mensaje,T.ok?"mat-primary":T.alerta)})})}trackByFn(o,e){return e.id||o}}b.\u0275fac=function(o){return new(o||b)(t.Y36(t.sBO),t.Y36(p),t.Y36(m.uw),t.Y36(it.c),t.Y36(ct.E))},b.\u0275cmp=t.Xpm({type:b,selectors:[["metododecaptaciones-list"]],viewQuery:function(o,e){if(1&o&&(t.Gf(y.NW,5),t.Gf(M.YE,5)),2&o){let a;t.iGM(a=t.CRH())&&(e._paginator=a.first),t.iGM(a=t.CRH())&&(e._sort=a.first)}},decls:19,vars:10,consts:[[1,"sm:absolute","sm:inset-0","flex","flex-col","flex-auto","min-w-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"text-4xl","font-extrabold","tracking-tight"],[1,"flex","shrink-0","mt-6","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",1,"ml-4",3,"color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-hidden","sm:overflow-y-auto"],[4,"ngIf"],["noMetododecaptaciones",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[4,"ngIf","ngIfElse"],[1,"grid"],["matSort","","matSortDisableClear","",1,"inventory-grid-metodos","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-8","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"",3,"mat-sort-header"],[1,"hidden","sm:block",3,"mat-sort-header"],[1,""],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"inventory-grid-metodos","grid","items-center","gap-4","py-3","px-6","md:px-8","border-b"],[1,"hidden","sm:block"],[1,"flex"],[1,"min-w-10","min-h-7","h-7",3,"matTooltip"],[1,"icon-size-5","text-blue-500",3,"svgIcon","click"],["svgIcon","heroicons_outline:trash",1,"text-red-500",3,"click"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-red-400","icon-size-5",3,"svgIcon"],[1,"p-8","sm:p-16","border-t","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,st,2,1,"div",2),t.TgZ(3,"div",3),t._uU(4,"Metododecaptaciones"),t.qZA(),t.TgZ(5,"div",4)(6,"mat-form-field",5),t._UZ(7,"mat-icon",6)(8,"input",7),t.qZA(),t.TgZ(9,"button",8),t.NdJ("click",function(){return e.crear()}),t._UZ(10,"mat-icon",9),t.TgZ(11,"span",10),t._uU(12,"Crear"),t.qZA()()()(),t.TgZ(13,"div",11)(14,"div",12),t.YNc(15,ft,2,2,"ng-container",13),t.ALo(16,"async"),t.YNc(17,ht,2,0,"ng-template",null,14,t.W1O),t.qZA()()()),2&o&&(t.xp6(2),t.Q6J("ngIf",e.isLoading),t.xp6(5),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("formControl",e.searchInputControl)("autocomplete","off")("placeholder","Buscar..."),t.xp6(1),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:plus"),t.xp6(5),t.Q6J("ngIf",t.lcZ(16,8,e.metododecaptaciones$)))},dependencies:[I.lW,f.KE,f.qo,F.Hw,C.Nt,y.NW,U.pW,M.YE,M.nU,L.gM,x.mk,x.sg,x.O5,s.Fj,s.JJ,s.oH,x.Ov],styles:[".inventory-grid-metodos{grid-template-columns:auto 100px}@media (min-width: 600px){.inventory-grid-metodos{grid-template-columns:auto 100px 100px}}@media (min-width: 960px){.inventory-grid-metodos{grid-template-columns:auto 100px 100px}}@media (min-width: 1280px){.inventory-grid-metodos{grid-template-columns:auto 100px 100px}}\n"],encapsulation:2,data:{animation:j.L},changeDetection:0});class g{constructor(o){this._metododecaptacionesService=o}resolve(o,e){return this._metododecaptacionesService.getMetododecaptaciones()}}g.\u0275fac=function(o){return new(o||g)(t.LFG(p))},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"});const vt=[{path:"",pathMatch:"full",redirectTo:"lista"},{path:"lista",component:h,children:[{path:"",component:b,resolve:{metododecaptaciones:g}}]}];class u{}u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[N.Bz.forChild(vt),I.ot,k.p9,f.lN,F.Ps,C.c,Y.Tx,y.TU,U.Cv,B.si,M.JX,S.LD,E.rP,L.AV,z.m,m.Is,s.UX,s.u5,O.p0]})}}]);